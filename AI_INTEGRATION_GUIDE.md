# ๐ค ุฏููู ุฑุจุท ูุญุฑูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู
# AI Integration Guide

> **ุฏููู ุดุงูู ูุฑุจุท ูุฅุนุฏุงุฏ ูุญุฑูุงุช ุงูุฐูุงุก ุงูุงุตุทูุงุนู (Ollama + Copilot/OpenAI)**

---

## ๐ ุฌุฏูู ุงููุญุชููุงุช

- [ูุธุฑุฉ ุนุงูุฉ](#ูุธุฑุฉ-ุนุงูุฉ)
- [Ollama (AI ูุญูู)](#ollama-ai-ูุญูู)
- [Copilot/OpenAI (AI ุณุญุงุจู)](#copilotopenai-ai-ุณุญุงุจู)
- [ููููุฉ ุนูู ุงููุญุฑู](#ููููุฉ-ุนูู-ุงููุญุฑู)
- [ุงูุงุณุชุฎุฏุงู ุงููุชูุฏู](#ุงูุงุณุชุฎุฏุงู-ุงููุชูุฏู)
- [ุงุณุชูุดุงู ุงูุฃุฎุทุงุก](#ุงุณุชูุดุงู-ุงูุฃุฎุทุงุก)

---

## ๐ ูุธุฑุฉ ุนุงูุฉ

ูุฏุนู ุงููููู ุงูุฐูู **ุซูุงุซุฉ ูุญุฑูุงุช** ููุฐูุงุก ุงูุงุตุทูุงุนู:

| ุงููุญุฑู | ุงูููุน | ุงูุณุฑุนุฉ | ุงูุชูููุฉ | ุงูุงุณุชุฎุฏุงู ุงููุซุงูู |
|--------|------|--------|---------|-------------------|
| **Ollama** | ูุญูู | ุณุฑูุน ุฌุฏุงู | ูุฌุงูู | ุฃูุงูุฑ ุจุณูุทุฉุ ุฎุตูุตูุฉ ุนุงููุฉ |
| **Copilot** | ุณุญุงุจู | ูุชูุณุท | ูุฏููุน | ุชุญููู ูุนูุฏุ ุงุณุชุนูุงูุงุช ูุชูุฏูุฉ |
| **Local** | ูุญูู | ููุฑู | ูุฌุงูู | ุฃูุงูุฑ ูุญุฏุฏุฉุ fallback |

---

## ๐ฆ Ollama (AI ูุญูู)

### ูุง ูู Ollamaุ

**Ollama** ูู ุชุทุจูู ูุญูู ูุชูุญ ูู ุชุดุบูู ููุงุฐุฌ ุฐูุงุก ุงุตุทูุงุนู ูุจูุฑุฉ (LLMs) ุนูู ุฌูุงุฒู ุฏูู ุงูุญุงุฌุฉ ููุฅูุชุฑูุช.

**ุงููููุฒุงุช:**
- โ ูุฌุงูู ุชูุงูุงู
- โ ุฎุตูุตูุฉ ูุงููุฉ (ูุง ุชุฑุณู ุจูุงูุงุช ููุฎุงุฑุฌ)
- โ ุณุฑูุน ุฌุฏุงู
- โ ูุนูู ุจุฏูู ุฅูุชุฑูุช

**ุงูุนููุจ:**
- โ๏ธ ูุญุชุงุฌ ููุงุฑุฏ ูุธุงู (RAM, CPU/GPU)
- โ๏ธ ุฃูู ุฏูุฉ ูู ุงูููุงุฐุฌ ุงูุณุญุงุจูุฉ ุงููุจูุฑุฉ

---

### ุงูุชุซุจูุช

#### Windows

1. **ุชุญููู Ollama:**
   ```
   https://ollama.ai/download/windows
   ```

2. **ุชุซุจูุช ุงูุชุทุจูู:**
   - ุดุบูู ุงูููู ุงููุญููู
   - ุงุชุจุน ุฎุทูุงุช ุงูุชุซุจูุช
   - ุณูุนูู Ollama ุชููุงุฆูุงู ูู ุงูุฎูููุฉ

3. **ุงูุชุญูู ูู ุงูุชุซุจูุช:**
   ```cmd
   ollama --version
   ```

#### Linux

```bash
curl -fsSL https://ollama.ai/install.sh | sh
```

#### macOS

```bash
brew install ollama
```

---

### ุชุญููู ุงูููุงุฐุฌ

ุจุนุฏ ุงูุชุซุจูุชุ ุญููู ูููุฐุฌ AI:

```bash
# ูููุฐุฌ Llama 2 (ููุตู ุจู)
ollama pull llama2

# ููุงุฐุฌ ุฃุฎุฑู
ollama pull codellama    # ููุจุฑูุฌุฉ
ollama pull mistral      # ุฎููู ูุณุฑูุน
ollama pull llama2:70b   # ุฃูุซุฑ ุฏูุฉ (ูุญุชุงุฌ 64GB RAM)
```

**ูุงุฆูุฉ ุงูููุงุฐุฌ ุงููุชุงุญุฉ:**
```bash
ollama list
```

---

### ุงูุชุดุบูู

#### ุชุดุบูู ุชููุงุฆู (Windows)

Ollama ูุนูู ุชููุงุฆูุงู ูุฎุฏูุฉ ูู ุงูุฎูููุฉ ุนูู ุงููููุฐ `11434`.

#### ุชุดุบูู ูุฏูู (Linux/Mac)

```bash
ollama serve
```

---

### ุงูุชูููู ูู ุงููุดุฑูุน

1. **ุงูุชุญ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช:**
   ```
   http://localhost:8765/alwakeel_php/integrations.php
   ```

2. **ูุณู Ollama:**
   - โ ูุนูู ุงููุฑุจุน "ุชูุนูู Ollama ุงููุญูู"
   - **URL:** `http://localhost:11434` (ุงูุงูุชุฑุงุถู)
   - ุงุถุบุท "ุญูุธ ุฅุนุฏุงุฏุงุช Ollama"

3. **ุงุฎุชุจุงุฑ ุงูุงุชุตุงู:**
   ```
   http://localhost:8765/alwakeel_php/ai_engine.php
   ```
   ุงุถุบุท "ุงุฎุชุจุงุฑ Ollama"

---

### ุงูุงุณุชุฎุฏุงู

ุจุนุฏ ุงูุชูุนููุ ุณูุณุชุฎุฏู ุงููุธุงู Ollama ุชููุงุฆูุงู ููุฃูุงูุฑ ุงูุจุณูุทุฉ:

```
ูุฑุญุจุง
ูุง ูู Gitุ
ุงุดุฑุญ ูู SQL
```

---

### ุชุฎุตูุต ุงููููุฐุฌ

ูุชุบููุฑ ุงููููุฐุฌ ุงููุณุชุฎุฏูุ ุนุฏูู `ai_engine.php`:

```php
// ุงูุณุทุฑ 60 ุชูุฑูุจุงู
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
    'model' => 'llama2',  // ุบููุฑ ููุง
    'prompt' => $prompt,
    'stream' => false
]));
```

**ููุงุฐุฌ ููุชุฑุญุฉ:**
- `llama2` - ูุชูุงุฒู (ุงูุชุฑุงุถู)
- `mistral` - ุณุฑูุน
- `codellama` - ููุจุฑูุฌุฉ
- `llama2:70b` - ุฏููู ุฌุฏุงู (ูุญุชุงุฌ ููุงุฑุฏ ูุจูุฑุฉ)

---

## ๐ค Copilot/OpenAI (AI ุณุญุงุจู)

### ูุง ูู Copilot APIุ

**Copilot** (ุฃู OpenAI API) ูู ุฎุฏูุฉ ุณุญุงุจูุฉ ุชููุฑ ููุงุฐุฌ ุฐูุงุก ุงุตุทูุงุนู ูุชูุฏูุฉ ูุซู GPT-3.5 ู GPT-4.

**ุงููููุฒุงุช:**
- โ ุฏูุฉ ุนุงููุฉ ุฌุฏุงู
- โ ููู ูุชูุฏู ููุณูุงู
- โ ุฏุนู ูุบุงุช ูุชุนุฏุฏุฉ
- โ ูุง ูุญุชุงุฌ ููุงุฑุฏ ูุญููุฉ

**ุงูุนููุจ:**
- โ๏ธ ูุฏููุน (ุจุงูุงุณุชุฎุฏุงู)
- โ๏ธ ูุญุชุงุฌ ุฅูุชุฑูุช
- โ๏ธ ุฃุจุทุฃ ูู Ollama ุงููุญูู

---

### ุงูุญุตูู ุนูู API Key

#### ูู OpenAI

1. **ุฅูุดุงุก ุญุณุงุจ:**
   ```
   https://platform.openai.com/signup
   ```

2. **ุงูุงูุชูุงู ุฅูู API Keys:**
   ```
   https://platform.openai.com/api-keys
   ```

3. **ุฅูุดุงุก ููุชุงุญ ุฌุฏูุฏ:**
   - ุงุถุบุท "Create new secret key"
   - ุงุฎุชุฑ ุงุณูุงู ููููุชุงุญ (ูุซู: "Alwakeel Agent")
   - **ุงุญูุธ ุงูููุชุงุญ ููุฑุงู** (ูู ุชุฑุงู ูุฑุฉ ุฃุฎุฑู!)
   - ุงูุดูู: `sk-xxxxxxxxxxxxxxxxxxxx`

4. **ุฅุถุงูุฉ ุฑุตูุฏ:**
   ```
   https://platform.openai.com/account/billing
   ```
   - ุงูุญุฏ ุงูุฃุฏูู: $5
   - ุงูุชูููุฉ: ~$0.002 ููู 1000 token

---

### ุงูุชูููู ูู ุงููุดุฑูุน

1. **ุงูุชุญ ุตูุญุฉ ุงูุฅุนุฏุงุฏุงุช:**
   ```
   http://localhost:8765/alwakeel_php/integrations.php
   ```

2. **ูุณู Copilot:**
   - โ ูุนูู ุงููุฑุจุน "ุชูุนูู Copilot API"
   - **API Key:** ุงูุตู ุงูููุชุงุญ ุงูุฐู ุญุตูุช ุนููู
   - ุงุถุบุท "ุญูุธ ุฅุนุฏุงุฏุงุช Copilot"

3. **ุงุฎุชุจุงุฑ ุงูุงุชุตุงู:**
   ```
   http://localhost:8765/alwakeel_php/ai_engine.php
   ```
   ุงุถุบุท "ุงุฎุชุจุงุฑ Copilot"

---

### ุงูุงุณุชุฎุฏุงู

ุจุนุฏ ุงูุชูุนููุ ุณูุณุชุฎุฏู ุงููุธุงู Copilot ููุฃูุงูุฑ ุงููุนูุฏุฉ:

```
ุงุดุฑุญ ูู ุจุงูุชูุตูู ููู ูุนูู Git
ูุง ูู ุฃูุถู ููุงุฑุณุงุช ุชุทููุฑ ุงูููุจุ
ุญูู ูุฐุง ุงูููุฏ: [ููุฏ ุทููู]
```

---

### ุชุฎุตูุต ุงููููุฐุฌ

ูุชุบููุฑ ุงููููุฐุฌ ุงููุณุชุฎุฏูุ ุนุฏูู `ai_engine.php`:

```php
// ุงูุณุทุฑ 130 ุชูุฑูุจุงู
curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
    'model' => 'gpt-3.5-turbo',  // ุบููุฑ ููุง
    'messages' => $messages,
    'temperature' => 0.7,
    'max_tokens' => 500
]));
```

**ููุงุฐุฌ ูุชุงุญุฉ:**
- `gpt-3.5-turbo` - ุณุฑูุน ูุฑุฎูุต (ุงูุชุฑุงุถู)
- `gpt-4` - ุฃุฏู ูุฃุฐูู (ุฃุบูู)
- `gpt-4-turbo` - ูุชูุงุฒู

**ุงูุชูููุฉ ุงูุชูุฑูุจูุฉ:**
| ุงููููุฐุฌ | Input (1M tokens) | Output (1M tokens) |
|---------|-------------------|-------------------|
| gpt-3.5-turbo | $0.50 | $1.50 |
| gpt-4 | $30.00 | $60.00 |
| gpt-4-turbo | $10.00 | $30.00 |

---

## โ๏ธ ููููุฉ ุนูู ุงููุญุฑู

### ุงุณุชุฑุงุชูุฌูุฉ ุงูุงุฎุชูุงุฑ ุงูุชููุงุฆู

```php
function routeRequest($message) {
    // ุชุญููู ุงูุฑุณุงูุฉ
    $is_complex = strlen($message) > 200 || 
                 strpos($message, 'ุชุญููู') !== false ||
                 strpos($message, 'ุดุฑุญ') !== false ||
                 strpos($message, 'ุงูุชุฑุงุญ') !== false;
    
    // ุงุฎุชูุงุฑ ุงููุญุฑู
    if ($is_complex && copilot_enabled) {
        return processCopilot($message);  // ูุนูุฏ โ Copilot
    } elseif (ollama_enabled) {
        return processOllama($message);   // ุจุณูุท โ Ollama
    } else {
        return processLocal($message);    // fallback โ Local
    }
}
```

### ูุฎุทุท ุงููุฑุงุฑ

```
ุฑุณุงูุฉ ุงููุณุชุฎุฏู
       โ
   ุชุญููู ุงูุฑุณุงูุฉ
       โ
    โโโโโโโโโโโ
    โ ูุนูุฏุฉุ  โ
    โโโโโโฌโโโโโ
         โ
    โโโโโโดโโโโโ
   ูุนู       ูุง
    โ         โ
    โ         โ
Copilot   Ollama
ููุนููุ    ููุนููุ
    โ         โ
   ูุนู       ูุนู
    โ         โ
    โ         โ
ุงุณุชุฎุฏู    ุงุณุชุฎุฏู
Copilot   Ollama
    โ         โ
    โโโโโโฌโโโโโ
         โ
      (ุฅุฐุง ูุดู)
         โ
   Local Fallback
```

---

## ๐ ุงูุงุณุชุฎุฏุงู ุงููุชูุฏู

### 1. ุชุฎุตูุต Prompt

ุนุฏูู `buildPrompt()` ูู `ai_engine.php`:

```php
private function buildPrompt($message, $context = []) {
    $prompt = "ุฃูุช ูููู ุฐูู ูุชุฎุตุต ูู [ูุฌุงูู].\n\n";
    
    // ุฅุถุงูุฉ ุณูุงู ูุฎุตุต
    if (!empty($context)) {
        $prompt .= "ุงูุณูุงู:\n";
        $prompt .= json_encode($context, JSON_UNESCAPED_UNICODE) . "\n\n";
    }
    
    $prompt .= "ุงูุณุคุงู: $message\n\n";
    $prompt .= "ุงูุฑุฏ (ุจุงูุนุฑุจูุฉ):";
    
    return $prompt;
}
```

### 2. ุฅุถุงูุฉ ูุญุฑู AI ุฌุฏูุฏ

```php
// ูู AIEngine class
private function processCustomAI($message, $context = []) {
    // ุงุชุตู ุจู API ุงูุฎุงุต ุจู
    $ch = curl_init();
    curl_setopt($ch, CURLOPT_URL, 'https://your-ai-api.com/chat');
    curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
    curl_setopt($ch, CURLOPT_POST, true);
    curl_setopt($ch, CURLOPT_POSTFIELDS, json_encode([
        'message' => $message
    ]));
    
    $response = curl_exec($ch);
    curl_close($ch);
    
    return [
        'success' => true,
        'message' => $response,
        'engine' => 'custom_ai'
    ];
}

// ูู routeRequest()
if ($use_custom_ai) {
    return $this->processCustomAI($message, $context);
}
```

### 3. ุชุญุณูู ูุธุงู ุงูุชุนูู

```php
// ูู learn()
public function learn($command, $result, $success) {
    // ุงุณุชุฎุฑุงุฌ ุฃููุงุท ูุชูุฏูุฉ
    $patterns = $this->extractAdvancedPatterns($command);
    
    // ุชุญููู ุงููุฌุงุญ
    $confidence_delta = $success ? 10 : -5;
    
    // ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช
    foreach ($patterns as $pattern) {
        $this->updateLearningData($pattern, $result, $confidence_delta);
    }
}
```

---

## ๐ง ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### Ollama

#### ุงููุดููุฉ: "ูุดู ุงูุงุชุตุงู ุจู Ollama"

**ุงูุญููู:**

1. **ุชุญูู ูู ุชุดุบูู Ollama:**
   ```cmd
   # Windows
   tasklist | findstr ollama
   
   # Linux/Mac
   ps aux | grep ollama
   ```

2. **ุฃุนุฏ ุชุดุบูู Ollama:**
   ```bash
   # Linux/Mac
   ollama serve
   
   # Windows
   ุฃุนุฏ ุชุดุบูู ุงูุชุทุจูู ูู ูุงุฆูุฉ Start
   ```

3. **ุชุญูู ูู ุงููููุฐ:**
   ```bash
   curl http://localhost:11434/api/tags
   ```
   
   ูุฌุจ ุฃู ุชุฑู ูุงุฆูุฉ ุงูููุงุฐุฌ.

4. **ุชุญูู ูู ุงูู Firewall:**
   - ุชุฃูุฏ ุฃู ุงููููุฐ 11434 ุบูุฑ ูุญุธูุฑ

#### ุงููุดููุฉ: "ุงููููุฐุฌ ุบูุฑ ููุฌูุฏ"

```bash
# ุชุญูู ูู ุงูููุงุฐุฌ ุงููุซุจุชุฉ
ollama list

# ุญููู ุงููููุฐุฌ ุงููุทููุจ
ollama pull llama2
```

---

### Copilot/OpenAI

#### ุงููุดููุฉ: "ูุดู ุงูุงุชุตุงู ุจู Copilot API"

**ุงูุญููู:**

1. **ุชุญูู ูู API Key:**
   - ูุฌุจ ุฃู ูุจุฏุฃ ุจู `sk-`
   - ุชุฃูุฏ ูู ูุณุฎู ุจุงููุงูู

2. **ุชุญูู ูู ุงูุฑุตูุฏ:**
   ```
   https://platform.openai.com/account/usage
   ```
   
   ุชุฃูุฏ ุฃู ูุฏูู ุฑุตูุฏ ูุงูู.

3. **ุชุญูู ูู ุงูุญุฏ ุงูุฃูุตู (Rate Limit):**
   - ุงูุญุณุงุจ ุงููุฌุงูู: 3 ุทูุจุงุช/ุฏูููุฉ
   - ุงูุญุณุงุจ ุงููุฏููุน: 60 ุทูุจุงุช/ุฏูููุฉ

4. **ุงุฎุชุจุฑ ุงูู API ูุจุงุดุฑุฉ:**
   ```bash
   curl https://api.openai.com/v1/chat/completions \
     -H "Content-Type: application/json" \
     -H "Authorization: Bearer YOUR_API_KEY" \
     -d '{
       "model": "gpt-3.5-turbo",
       "messages": [{"role": "user", "content": "Hello"}]
     }'
   ```

#### ุงููุดููุฉ: "Insufficient quota"

- ุฃุถู ุฑุตูุฏุงู ูู:
  ```
  https://platform.openai.com/account/billing
  ```

---

### ุนุงู

#### ุงููุดููุฉ: "ูุง ูุณุชุฌูุจ ุฃู ูุญุฑู"

1. **ุชุญูู ูู ุงูุฅุนุฏุงุฏุงุช:**
   ```
   http://localhost:8765/alwakeel_php/integrations.php
   ```
   
   ุชุฃูุฏ ูู ุชูุนูู ูุญุฑู ูุงุญุฏ ุนูู ุงูุฃูู.

2. **ุชุญูู ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:**
   ```sql
   SELECT * FROM integrations WHERE is_enabled = 'true';
   ```

3. **ุชุญูู ูู error_log:**
   ```
   # XAMPP Windows
   C:\xampp\apache\logs\error.log
   
   # XAMPP Linux
   /opt/lampp/logs/error_log
   ```

---

## ๐ ููุงุฑูุฉ ุงูุฃุฏุงุก

### ุงุฎุชุจุงุฑ ุนููู

| ุงููุนูุงุฑ | Ollama | Copilot | Local |
|---------|--------|---------|-------|
| **ููุช ุงูุงุณุชุฌุงุจุฉ** | 1-3s | 2-5s | <100ms |
| **ุงูุฏูุฉ** | ุฌูุฏุฉ | ููุชุงุฒุฉ | ูุญุฏูุฏุฉ |
| **ุงูุชูููุฉ** | ูุฌุงูู | ~$0.002/ุทูุจ | ูุฌุงูู |
| **ุงูุฎุตูุตูุฉ** | ุนุงููุฉ | ููุฎูุถุฉ | ุนุงููุฉ |
| **ูุญุชุงุฌ ุฅูุชุฑูุช** | ูุง | ูุนู | ูุง |

### ุชูุตูุงุช ุงูุงุณุชุฎุฏุงู

**ุงุณุชุฎุฏู Ollama ูู:**
- โ ุงูุฃูุงูุฑ ุงูุจุณูุทุฉ
- โ ุงูุฎุตูุตูุฉ ุงูุนุงููุฉ
- โ ุงูุนูู ุจุฏูู ุฅูุชุฑูุช

**ุงุณุชุฎุฏู Copilot ูู:**
- โ ุงูุชุญููู ุงููุนูุฏ
- โ ุงูุฃุณุฆูุฉ ุงููุชูุฏูุฉ
- โ ุงูุฏูุฉ ุงูุนุงููุฉ

**ุงุณุชุฎุฏู Local ูู:**
- โ ุงูุฃูุงูุฑ ุงููุญุฏุฏุฉ (GitHub, SQL, etc.)
- โ Fallback ุนูุฏ ูุดู ุงููุญุฑูุงุช

---

## ๐ ุฃูุซูุฉ ุนูููุฉ

### ูุซุงู 1: ุณุคุงู ุจุณูุท (โ Ollama)

```
ุงููุณุชุฎุฏู: ูุง ูู Gitุ

ุงููุธุงู: ูุญูู โ ุจุณูุท โ Ollama

Ollama: Git ูู ูุธุงู ุชุญูู ุจุงูุฅุตุฏุงุฑุงุช...
```

### ูุซุงู 2: ุชุญููู ูุนูุฏ (โ Copilot)

```
ุงููุณุชุฎุฏู: ุงุดุฑุญ ูู ุจุงูุชูุตูู ุงููุฑู ุจูู Git ู SVN ูุน ุฃูุซูุฉ ุนูููุฉ

ุงููุธุงู: ูุญูู โ ูุนูุฏ โ Copilot

Copilot: [ุดุฑุญ ุชูุตููู ูุน ุฃูุซูุฉ]
```

### ูุซุงู 3: ุฃูุฑ ูุญุฏุฏ (โ Local)

```
ุงููุณุชุฎุฏู: ุณุญุจ ุงูุชุญุฏูุซุงุช ูู GitHub

ุงููุธุงู: ูุญูู โ ุฃูุฑ ูุญุฏุฏ โ Local

Local: ูููููู ุณุญุจ ุงูุชุญุฏูุซุงุช. ุงุฐูุจ ุฅูู ุตูุญุฉ ุงููุฒุงููุฉ...
```

---

## ๐ฎ ุงููุณุชูุจู

### ูุญุฑูุงุช ูุฎุทุทุฉ

- [ ] **Claude** (Anthropic)
- [ ] **Gemini** (Google)
- [ ] **LLaMA 3** (Meta)
- [ ] **Mistral AI**

---

<div align="center">

**ุฏููู ุฑุจุท AI - ุงูุฅุตุฏุงุฑ 1.0**

ุตููุน ุจู โค๏ธ ูู ููุณุทูู ๐ต๐ธ

</div>
